{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./resources/js/modules/setting/globalSetting.js","webpack:///./resources/js/modules/globalClass/world.js","webpack:///./resources/js/modules/creatures/creature.js","webpack:///./resources/js/modules/globalClass/state/blocks/block.js","webpack:///./resources/js/modules/globalClass/state/state.js","webpack:///./resources/js/modules/creatures/enemy.js","webpack:///./resources/js/modules/structOfDate/coordinate.js","webpack:///./resources/js/modules/creatures/player.js","webpack:///./resources/js/modules/globalClass/state/blocks/dirtblock.js","webpack:///./resources/js/modules/globalClass/state/blocks/borderblock.js","webpack:///./resources/js/modules/globalClass/game.js","webpack:///./resources/js/modules/structOfDate/size.js","webpack:///./resources/js/modules/index.js","webpack:///./resources/js/modules/globalClass/state/blocks/controllerBlock.js","webpack:///./resources/js/modules/structOfDate/ExCoordinate.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Size","[object Object]","this","sizeBlock","numBlocks","GLOBAL_SETTING","Coor","World","state","size","getSize","afterWorldRenderDoing","getSizeWorld","firstFindSize","widthBlocks","Math","floor","window","innerWidth","width","heightBlocks","innerHeight","height","sizeG","setFirstFindSize","num","creatures","newCreature","coor","type","x","random","y","func","push","forEach","startRender","bias","getBias","world","document","createElement","className","getEmptyWorld","getStartPiointWatch","place","getAllPlace","row","j","block","getBlock","newX","newY","appendChild","rendersBlocks","getWorldDiv","remove","setWorldDiv","deliteOldWorld","querySelector","startPointWatch","pointWotch","getPiointWatch","canIBias","oldWorld","isCreature","visableHideCreature","line","children","idBlockForRemove","length","insertBefore","leftRightBias","upDownBias","doAfterWorldRenderDoing","changePointWatch","biasRender","changeStartPointWatch","blockObject","nesting","classNameBackBlock","creature","div","classNameCSS","visable","was","now","getCreature","DOMObject","ExCoor","ControllerBlock","id","patency","_identifyVisable","idBackBlock","health","attackDamage","attackRange","pursuitRange","setCoorPlayer","direction","watcher","getWatcher","watcherX","watcherY","range","_approximatingToWatcher","_randMove","_move","getWorldObject","getBoundingClientRect","weapon","style","left","top","getWeaponDiv","setTimeout","needCoor","max","lisenAttack","setAfterWorldRenderDoing","makeAnimation","curCoor","newPosition","getCellPlace","setBias","setPointWatch","movingPointAndBais","_movingVisableSwapingIcon","player","setCellPlace","getBlockObject","changeCoorPlayer","changeCoordinate","moving","side","startX","startY","localPlace","cell","Infinity","getLocalPlace","getBlockWithCreature","parentNode","Player","Enemy","config","N","M","_place","randDigit","k","addRoom","generatePlace","_creature","_pointWatch","_startPointWatch","_bias","_weaponDiv","_worldDiv","_worldObject","_sizeWorld","sizeWorld","val","idBlock","undefined","OldValue","bais","weaponDiv","worldDiv","obj","Creature","super","profession","Block","State","players","enemy","numCreature","setPlayer","setPlayers","startPoint","filter","findX","findY","enemys","setStartPointWatch","concat","makeAroayWihtEnemy","setEnemy","renderWorld","createWeaponDiv","setWeaponDiv","setWorldObject","item","movePerformance","game","getState","onkeydown","e","keyCode","doAttack","tactOfGame","console","log","BorderBlock","DirtBlock"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 17);\n","'use strict';\r\n\r\nconst Size = require('../structOfDate/size.js');\r\n\r\nmodule.exports = class GLOBAL_SETTING {\r\n\tconstructor() {\r\n\t\tthis.sizeBlock = new Size(50, 50);\r\n\t\tthis.numBlocks = new Size(2 ** 10, 2 ** 10);\r\n\t}\r\n}","'use strict';\r\n\r\nconst GLOBAL_SETTING = new (require('../setting/globalSetting.js'))();\r\nconst State = require('./state/state.js')\r\n\r\nconst Coor = require('../structOfDate/coordinate.js');\r\n\r\nmodule.exports = class World {\r\n\tconstructor(state) {\r\n\t\tthis.state = state;\r\n\t\tthis.size = World.getSize(state);\r\n\t\tthis.afterWorldRenderDoing = [];\r\n\t}\r\n\r\n\tstatic getSize(state) {\r\n\t\tlet firstFindSize = state.getSizeWorld().firstFindSize;\r\n\r\n\t\tif (firstFindSize === true){\r\n\r\n\t\t\tconst widthBlocks = Math.floor(window.innerWidth / GLOBAL_SETTING.sizeBlock.width);\r\n\t\t\tconst heightBlocks = Math.floor(window.innerHeight / GLOBAL_SETTING.sizeBlock.height);\r\n\r\n\t\t\tlet sizeG = {\r\n\t\t\t\twidthBlocks: (widthBlocks < GLOBAL_SETTING.numBlocks.width ? widthBlocks : GLOBAL_SETTING.numBlocks.width),\r\n\t\t\t\theightBlocks: (heightBlocks < GLOBAL_SETTING.numBlocks.height ? heightBlocks : GLOBAL_SETTING.numBlocks.height)\r\n\t\t\t};\r\n\r\n\t\t\tstate.setFirstFindSize({\r\n\t\t\t\tfirstFindSize: true,\r\n\t\t\t\tsizeG: sizeG\r\n\t\t\t});\r\n\r\n\t\t\treturn sizeG;\r\n\t\t} else {\r\n\t\t\treturn state.getSizeWorld().sizeG;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic makeAroayWihtEnemy(num, state) {\r\n\t\tconst size = World.getSize(state);\r\n\r\n\t\tlet creatures = [];\r\n\t\tfor (let i = 0; i < num; i++) {\r\n\t\t\tlet newCreature = {};\r\n\t\t\tnewCreature.coor = new Coor();\r\n\t\t\tnewCreature.type = 'slime';\r\n\t\t\tnewCreature.coor.x = Math.floor(Math.random() * (GLOBAL_SETTING.numBlocks.height - 2)) + 1;\r\n\t\t\tnewCreature.coor.y = Math.floor(Math.random() * (GLOBAL_SETTING.numBlocks.width - 2)) + 1;\r\n\t\t\tcreatures[i] = newCreature;\r\n\t\t}\r\n\t\treturn creatures;\r\n\t}\r\n\r\n\tsetAfterWorldRenderDoing(func) {\r\n\t\tthis.afterWorldRenderDoing.push(func);\r\n\t}\r\n\r\n\tdoAfterWorldRenderDoing() {\r\n\t\tthis.afterWorldRenderDoing.forEach((func) => {\r\n\t\t\tfunc();\r\n\t\t});\r\n\t}\r\n\r\n\trenderWorld(startRender) {\r\n\t\tconst state = this.state;\r\n\t\tconst size = this.size;\r\n\t\tconst bias = state.getBias(true);\r\n\r\n\t\tif (bias === null && startRender === true) {\r\n\t\t\tlet world = getEmptyWorld();\r\n\r\n\t\t\trendersBlocks(world, state, size);\r\n\t\t\tdeliteOldWorld();\r\n\t\t\tpushNewWorld(world);\r\n\r\n\t\t\treturn world;\r\n\t\t} else if (canIBias(size, state, bias) === true) {\r\n\t\t\tbiasRender(this, bias);\r\n\t\t\tstate.changeStartPointWatch(bias);\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t\tfunction canIBias(size, state, bias) {\r\n\t\t\tconst startPointWatch = state.getStartPiointWatch();\r\n\t\t\tconst pointWotch = state.getPiointWatch();\r\n\r\n\t\t\tif (\r\n\t\t\t(((startPointWatch.x === 0\r\n\t\t\t\t\t||\r\n\t\t\tstartPointWatch.x === GLOBAL_SETTING.numBlocks.height - size.heightBlocks)\r\n\t\t\t\t&&\r\n\t\t\t(pointWotch.x < Math.floor(size.heightBlocks / 2)\r\n\t\t\t\t\t||\r\n\t\t\tpointWotch.x >= (GLOBAL_SETTING.numBlocks.height - Math.floor(size.heightBlocks / 2)))\r\n\t\t\t\t&&\r\n\t\t\t(bias === 'up'\r\n\t\t\t\t\t||\r\n\t\t\tbias === 'down'))\r\n\t\t\t||\r\n\t\t\t((startPointWatch.y === 0\r\n\t\t\t\t\t||\r\n\t\t\tstartPointWatch.y === GLOBAL_SETTING.numBlocks.width - size.widthBlocks)\r\n\t\t\t\t&&\r\n\t\t\t(pointWotch.y < Math.floor(size.widthBlocks / 2)\r\n\t\t\t\t\t||\r\n\t\t\tpointWotch.y >= (GLOBAL_SETTING.numBlocks.width - Math.floor(size.widthBlocks / 2)))\r\n\t\t\t\t&&\r\n\t\t\t(bias === 'left'\r\n\t\t\t\t\t||\r\n\t\t\tbias === 'right')))\r\n\t\t\t){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tfunction getEmptyWorld() {\r\n\t\t\tlet world = document.createElement('div');\r\n\t\t\tworld.className = 'world';\r\n\t\t\treturn world;\r\n\t\t}\r\n\r\n\t\tfunction deliteOldWorld() {\r\n\t\t\tlet world = state.getWorldDiv();\r\n\t\t\tif (world !== null) {\r\n\t\t\t\tworld.remove();\r\n\t\t\t\tstate.setWorldDiv = null;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tfunction pushNewWorld(world) {\r\n\t\t\tdocument.querySelector('.wrapper').appendChild(world);\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tfunction rendersBlocks(world, state, size) {\r\n\t\t\tconst x = state.getStartPiointWatch().x;\r\n\t\t\tconst y = state.getStartPiointWatch().y;\r\n\t\t\tconst place = state.getAllPlace();\r\n\r\n\t\t\tfor (let i = x; i < x + size.heightBlocks; i++) {\r\n\t\t\t\tlet row = document.createElement('div');\r\n\t\t\t\trow.className = 'row';\r\n\t\t\t\tfor (let j = y; j < y + size.widthBlocks; j++) {\r\n\t\t\t\t\tlet block = getBlock(place[i][j], {newX:i,newY:j});\r\n\t\t\t\t\trow.appendChild(block);\r\n\t\t\t\t}\r\n\t\t\t\tworld.appendChild(row);\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tfunction biasRender(world, bias) {\r\n\t\t\tconst state = world.state;\r\n\t\t\tconst size = world.size;\r\n\t\t\tconst place = state.getAllPlace();\r\n\t\t\tconst oldWorld = state.getWorldDiv();\r\n\t\t\tconst startPointWatch = state.getStartPiointWatch();\r\n\r\n\t\t\tif (bias === 'right' || bias === 'left') {\r\n\t\t\t\tleftRightBias();\r\n\t\t\t} else if (bias === 'up' || bias === 'down') {\r\n\t\t\t\tupDownBias();\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tworld.doAfterWorldRenderDoing();\r\n\r\n\t\t\tstate.changePointWatch(bias);\r\n\t\t\treturn true;\r\n\r\n\t\t\tfunction leftRightBias() {\r\n\t\t\t\tconst x = state.getStartPiointWatch().x;\r\n\r\n\t\t\t\tfor (let i = x; i < x + size.heightBlocks; i++) {\r\n\r\n\t\t\t\t\tlet y = 0;\r\n\t\t\t\t\tlet newY = 0;\r\n\t\t\t\t\tlet block = null;\r\n\r\n\t\t\t\t\tif (bias === 'right') {\r\n\t\t\t\t\t\ty = state.getStartPiointWatch().y + size.widthBlocks;\r\n\t\t\t\t\t\tnewY = y - size.widthBlocks;\r\n\t\t\t\t\t} else if (bias === 'left') {\r\n\t\t\t\t\t\ty = state.getStartPiointWatch().y - 1;\r\n\t\t\t\t\t\tnewY = y + size.widthBlocks;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tblock = getBlock(place[i][y], {newX:i,newY:y}, true);\r\n\r\n\t\t\t\t\tif (place[i][newY].isCreature === true) {\r\n\t\t\t\t\t\tvisableHideCreature(place[i][newY]);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet line = oldWorld.children[i-x];\r\n\t\t\t\t\tlet idBlockForRemove = 0;\r\n\r\n\t\t\t\t\tif (bias === 'right') {\r\n\t\t\t\t\t\tidBlockForRemove = 0;\r\n\r\n\t\t\t\t\t\tline.children[idBlockForRemove].remove();\r\n\t\t\t\t\t\tline.appendChild(block);\r\n\t\t\t\t\t} else if (bias === 'left') {\r\n\t\t\t\t\t\tidBlockForRemove = line.children.length - 1;\r\n\r\n\t\t\t\t\t\tline.children[idBlockForRemove].remove();\r\n\t\t\t\t\t\tline.insertBefore(block, oldWorld.children[i-x].children[0]);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tfunction upDownBias() {\r\n\t\t\t\tconst y = state.getStartPiointWatch().y;\r\n\r\n\t\t\t\tlet row = document.createElement('div');\r\n\t\t\t\trow.className = 'row';\r\n\r\n\t\t\t\tfor (let i = y; i < y + size.widthBlocks; i++) {\r\n\t\t\t\t\tlet x = 0;\r\n\t\t\t\t\tlet newX = 0;\r\n\r\n\t\t\t\t\tif (bias === 'up') {\r\n\t\t\t\t\t\tx = state.getStartPiointWatch().x - 1;\r\n\t\t\t\t\t\tnewX = x + size.heightBlocks;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tx = state.getStartPiointWatch().x + size.heightBlocks;\r\n\t\t\t\t\t\tnewX = x - size.heightBlocks;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet block = getBlock(place[x][i], {newX:x,newY:i}, true);\r\n\t\t\t\t\trow.appendChild(block);\r\n\r\n\r\n\t\t\t\t\tif (place[newX][i].isCreature === true) {\r\n\t\t\t\t\t\tvisableHideCreature(place[newX][i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (bias === 'up') {\r\n\t\t\t\t\toldWorld.children[oldWorld.children.length-1].remove();\r\n\t\t\t\t\toldWorld.insertBefore(row, oldWorld.children[0]);\r\n\t\t\t\t} else if (bias === 'down') {\r\n\t\t\t\t\toldWorld.children[0].remove();\r\n\t\t\t\t\toldWorld.appendChild(row);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction getBlock(blockObject, coor, bias) {\r\n\t\t\tlet block = document.createElement('div');\r\n\r\n\t\t\tif (blockObject.nesting === true) {\r\n\t\t\t\tblock.className = 'standartPlace ' + blockObject.classNameBackBlock;\r\n\r\n\t\t\t\tif (blockObject.isCreature === true) {\r\n\t\t\t\t\tgetCreature(block, blockObject, coor);\r\n\t\t\t\t\tblockObject.DOMObject = block;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tchangeVisableCreature();\r\n\t\t\t} else {\r\n\t\t\t\tblock.className = 'standartPlace ' + blockObject.classNameCSS;\r\n\t\t\t}\r\n\r\n\t\t\treturn block;\r\n\r\n\t\t\tfunction getCreature(block, creature, coor) {\r\n\t\t\t\tlet div = document.createElement('div');\r\n\t\t\t\tdiv.className = creature.classNameCSS;\r\n\t\t\t\tblock.appendChild(div);\r\n\r\n\t\t\t\tif (bias === true) {\r\n\t\t\t\t\tcreature.visable.was = false;\r\n\t\t\t\t\tcreature.visable.now = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tfunction changeVisableCreature() {\r\n\t\t\t\tblockObject.visable = {\r\n\t\t\t\t\twas: blockObject.visable.now,\r\n\t\t\t\t\tnow: true\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction visableHideCreature(creature) {\r\n\t\t\tcreature.visable.was = true;\r\n\t\t\tcreature.visable.now = false;\r\n\t\t}\r\n\t}\r\n}","'use strict';\r\n\r\nconst GLOBAL_SETTING = new (require('../setting/globalSetting.js'))();\r\nconst Coor = require('../structOfDate/coordinate.js');\r\nconst ExCoor = require('../structOfDate/ExCoordinate.js');\r\nconst World = require('../globalClass/world.js');\r\nconst ControllerBlock = require('../globalClass/state/blocks/controllerBlock.js');\r\n\r\nmodule.exports = class Creature {\r\n\tconstructor (id, state, coor) {\r\n\t\tthis.isCreature = true;\r\n\t\tthis.patency = false;\r\n\t\tthis.nesting = true;\r\n\t\tthis.state = state;\r\n\t\tthis.id = id;\r\n\t\tthis.coor = coor;\r\n\r\n\t\tthis.visable = {};\r\n\t\tthis.visable.was = false;\r\n\t\tthis.visable.now = false;\r\n\t\tthis.visable = this._identifyVisable({newX: coor.x, newY: coor.y}, state);\r\n\r\n\t\tthis.classNameCSS = '';\r\n\t\tthis.classNameBackBlock = 'dirt';\r\n\t\tthis.idBackBlock = 1;\r\n\t\tthis.DOMObject = null;\r\n\r\n\t\tthis.health = 100;\r\n\t\tthis.attackDamage = 20;\r\n\t\tthis.attackRange = 100;\r\n\t\tthis.pursuitRange = 10;\r\n\r\n\t\tstate.setCoorPlayer(coor, id);\r\n\t}\r\n\r\n\tmovePerformance(direction) {\r\n\t\tif (direction === 'rand') {\r\n\t\t\tconst state = this.state;\r\n\t\t\tconst watcher = state.getWatcher();\r\n\t\t\tconst watcherX = watcher.coor.x;\r\n\t\t\tconst watcherY = watcher.coor.y;\r\n\t\t\tconst x = this.coor.x;\r\n\t\t\tconst y = this.coor.y;\r\n\t\t\tconst range = this.pursuitRange;\r\n\t\t\tif (\r\n\t\t\t\twatcherX > x - range\r\n\t\t\t&&\r\n\t\t\t\twatcherX < x + range\r\n\t\t\t&&\r\n\t\t\t\twatcherY < y + range\r\n\t\t\t&&\r\n\t\t\t\twatcherY > y -range\r\n\t\t\t){\r\n\t\t\t\tthis._approximatingToWatcher();\r\n\t\t\t} else {\r\n\t\t\t\tthis._randMove();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis._move(direction);\r\n\t\t}\r\n\t}\r\n\r\n\tdoAttack(direction) {\r\n\t\tconst creature = this;\r\n\t\tconst state = this.state;\r\n\t\tconst world = state.getWorldObject();\r\n\r\n\t\tmakeAnimation(direction);\r\n\t\tcheckCreatureForAttack(direction);\r\n\r\n\t\tfunction makeAnimation(direction) {\r\n\t\t\tconst coor = creature.DOMObject.getBoundingClientRect();\r\n\r\n\t\t\tlet weapon = document.createElement('div');\r\n\t\t\tweapon.className = 'stackWeaponBall';\r\n\t\t\tweapon.style.left = coor.x + 'px';\r\n\t\t\tweapon.style.top = coor.y + 'px';\r\n\t\t\tcreature.state.getWeaponDiv().appendChild(weapon);\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tlet needCoor = 0;\r\n\t\t\t\tlet max = 0;\r\n\t\t\t\tswitch(direction) {\r\n\t\t\t\t\tcase 'left':\r\n\t\t\t\t\t\tneedCoor = coor.x - creature.attackRange * GLOBAL_SETTING.sizeBlock.width;\r\n\t\t\t\t\t\tweapon.style.left = (needCoor < 0 ? 0 : needCoor) + 'px';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'right':\r\n\t\t\t\t\t\tneedCoor = coor.x + creature.attackRange * GLOBAL_SETTING.sizeBlock.width;\r\n\t\t\t\t\t\tmax = GLOBAL_SETTING.sizeBlock.width * (World.getSize(state).widthBlocks - 1);\r\n\t\t\t\t\t\tweapon.style.left = (needCoor > max ? max : needCoor) + 'px';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'up':\r\n\t\t\t\t\t\tneedCoor = coor.y - creature.attackRange * GLOBAL_SETTING.sizeBlock.height;\r\n\t\t\t\t\t\tweapon.style.top = (needCoor < 0 ? 0 : needCoor ) + 'px';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'down':\r\n\t\t\t\t\t\tneedCoor = coor.y + creature.attackRange * GLOBAL_SETTING.sizeBlock.height;\r\n\t\t\t\t\t\tmax = GLOBAL_SETTING.sizeBlock.height * (World.getSize(state).heightBlocks - 1);\r\n\t\t\t\t\t\tweapon.style.top = (needCoor > max ? max : needCoor) + 'px';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tweapon.remove();\r\n\t\t\t\t} ,2000);\r\n\t\t\t}, 100);\r\n\r\n\t\t\tif (lisenAttack === false) {\r\n\t\t\t\tworld.setAfterWorldRenderDoing(() => {\r\n\t\t\t\t\tconst weapon = state.getWeaponDiv();\r\n\t\t\t\t});\r\n\t\t\t\tlisenAttack = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction checkCreatureForAttack(direction) {\r\n\t\t}\r\n\t}\r\n\r\n\t_identifyVisable(coor, state) {\r\n\t\tconst visable = {};\r\n\t\tif (this.watcher === true) {\r\n\t\t\tvisable.now = true;\r\n\t\t\tvisable.was = true;\r\n\t\t} else {\r\n\t\t\tconst startPointWatch = this.state.getStartPiointWatch();\r\n\t\t\tconst size = World.getSize(state);\r\n\t\t\tvisable.was = this.visable.now;\r\n\t\t\tif (coor.newX - startPointWatch.x < size.heightBlocks\r\n\t\t\t&&\r\n\t\t\t\tcoor.newY - startPointWatch.y < size.widthBlocks\r\n\t\t\t&&\r\n\t\t\t\tcoor.newX - startPointWatch.x >= 0\r\n\t\t\t&&\r\n\t\t\t\tcoor.newY - startPointWatch.y >= 0\r\n\t\t\t) {\r\n\t\t\t\tvisable.now = true;\r\n\t\t\t} else {\r\n\t\t\t\tvisable.now = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn visable;\r\n\t}\r\n\r\n\t_move(direction) {\r\n\t\tconst id = this.id;\r\n\t\tconst ownObject = this;\r\n\t\tconst state = this.state;\r\n\r\n\r\n\t\tlet x = state.getCreature(id).coor.x;\r\n\t\tlet y = state.getCreature(id).coor.y;\r\n\r\n\t\tlet curCoor = new ExCoor(x, y, x, y);\r\n\r\n\t\tlet newPosition = null;\r\n\r\n\t\tswitch(direction) {\r\n\t\t\tcase 'right':\r\n\t\t\t\tif (GLOBAL_SETTING.numBlocks.width <= curCoor.y+1) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcurCoor.newY++;\r\n\t\t\t\t\tnewPosition = state.getCellPlace({x:curCoor.x, y:(curCoor.y+1)});\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'left':\r\n\t\t\t\tif (0 > curCoor.y - 1) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcurCoor.newY--;\r\n\t\t\t\t\tnewPosition = state.getCellPlace({x:curCoor.x, y:(curCoor.y-1)});\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'up':\r\n\t\t\t\tif (0 > curCoor.x-1) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcurCoor.newX--;\r\n\t\t\t\t\tnewPosition = state.getCellPlace({x:(curCoor.x-1), y:curCoor.y});\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'down':\r\n\t\t\t\tif (GLOBAL_SETTING.numBlocks.height <= curCoor.x+1) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcurCoor.newX++;\r\n\t\t\t\t\tnewPosition = state.getCellPlace({x:(curCoor.x+1), y:curCoor.y});\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow 'empty direction on move creature: ' + this.id;\r\n\t\t}\r\n\r\n\t\tif (newPosition.patency === true) {\r\n\t\t\treturn moving(curCoor, this);\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tfunction moving(coor, creature) {\r\n\t\t\tif (creature.watcher === true) {\r\n\t\t\t\tmovingPointAndBais(coor, creature, direction);\r\n\t\t\t}\r\n\r\n\t\t\tconst state = creature.state;\r\n\r\n\t\t\tcreature.visable = creature._identifyVisable(coor, state);\r\n\t\t\tcreature._movingVisableSwapingIcon(coor, state);\r\n\t\t\tchangeCoordinate(creature.state.getCreature(id), coor);\r\n\t\t\treturn true;\r\n\r\n\t\t\tfunction changeCoordinate(player, coor) {\r\n\t\t\t\tplayer.state.setCellPlace({\r\n\t\t\t\t\tx: player.state.getCreature(id).coor.x,\r\n\t\t\t\t\ty: player.state.getCreature(id).coor.y\r\n\t\t\t\t}, ControllerBlock.getBlockObject(player.idBackBlock));\r\n\r\n\t\t\t\tplayer.state.changeCoorPlayer({\r\n\t\t\t\t\tx: coor.newX,\r\n\t\t\t\t\ty: coor.newY\r\n\t\t\t\t}, id);\r\n\r\n\t\t\t\tplayer.state.setCellPlace({\r\n\t\t\t\t\tx: coor.newX,\r\n\t\t\t\t\ty: coor.newY\r\n\t\t\t\t}, player);\r\n\r\n\t\t\t\tplayer.coor.x = coor.newX;\r\n\t\t\t\tplayer.coor.y = coor.newY;\r\n\t\t\t}\r\n\r\n\t\t\tfunction movingPointAndBais(coor, creature, direction) {\r\n\t\t\t\tcreature.state.setBias(direction);\r\n\t\t\t\tcreature.state.setPointWatch({x:coor.newX, y:coor.newY}, creature);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t_randMove() {\r\n\t\tlet digit = Math.floor(Math.random() * 4) + 1;\r\n\t\tlet direction = '';\r\n\t\tswitch(digit) {\r\n\t\t\tcase 1:\r\n\t\t\t\tdirection = 'left';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tdirection = 'right';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tdirection = 'up';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tdirection = 'down';\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tthis._move(direction);\r\n\t\treturn true;\r\n\t}\r\n\r\n\t_approximatingToWatcher() {\r\n\t\tconst creature = this;\r\n\t\tconst range = creature.pursuitRange;\r\n\t\tconst side = (((range * 2) + 1) + 2); // (+1) - creature, (+2) - border\r\n\t\tconst state = creature.state;\r\n\t\tconst place = state.getAllPlace();\r\n\t\tconst startX = creature.coor.x - range;\r\n\t\tconst startY = creature.coor.y - range;\r\n\r\n\r\n\t\tlet localPlace = getLocalPlace();\r\n\r\n\t\tfunction getLocalPlace() {\r\n\t\t\tlet localPlace = [];\r\n\r\n\t\t\tlet cell = null;\r\n\r\n\t\t\tfor (let i = 0; i < side; i++) {\r\n\t\t\t\tlocalPlace[i] = [];\r\n\r\n\t\t\t\tfor (let j = 0; j < side; j++) {\r\n\t\t\t\t\tif (i === 0 || i === side - 1 || j === i || j === side - 1) {\r\n\t\t\t\t\t\tlocalPlace[i][j] = Infinity;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcell = place[startX + i][startY + j];\r\n\r\n\t\t\t\t\t\tif (cell.patency === true) {\r\n\t\t\t\t\t\t\tlocalPlace[i][j] = 0;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlocalPlace[i][j] = Infinity;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn localPlace;\r\n\t\t}\r\n\t}\r\n\r\n\t_movingVisableSwapingIcon(coor, state) {\r\n\t\tconst startPointWatch = this.state.getStartPiointWatch();\r\n\t\tconst world = this.state.getWorldDiv();\r\n\t\tconst size = World.getSize(state);\r\n\r\n\t\tlet div = getBlockWithCreature(this);\r\n\r\n\t\tif (this.visable.was === true) {\r\n\t\t\tthis.DOMObject.children[0].remove();\r\n\t\t\tthis.DOMObject = null;\r\n\t\t}\r\n\r\n\t\tif (this.visable.now === true) {\r\n\t\t\tworld.children[coor.newX - startPointWatch.x].children[coor.newY - startPointWatch.y].appendChild(div);\r\n\t\t\tthis.DOMObject = div.parentNode;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t\tfunction getBlockWithCreature(creature) {\r\n\t\t\tlet div = document.createElement('div');\r\n\t\t\tdiv.className = creature.classNameCSS;\r\n\t\t\treturn div;\r\n\t\t}\r\n\t}\r\n}","'use strict';\r\n\r\nmodule.exports = class Block {\r\n\tconstructor() {\r\n\t\tthis.nesting = false;\r\n\t\tthis.isCreature = false;\r\n\t}\r\n}","'use strict';\r\n\r\nconst Player = require('../../creatures/player.js');\r\nconst Enemy = require('../../creatures/enemy.js');\r\n\r\nconst ControllerBlock = require('./blocks/controllerBlock.js');\r\n\r\nconst Coor = require('../../structOfDate/coordinate.js');\r\n\r\nmodule.exports = class State {\r\n\tconstructor (config) {\r\n\t\tgeneratePlace(this);\r\n\t\tthis._creature = [];\r\n\t\tthis._pointWatch = {};\r\n\t\tthis._startPointWatch = {x:0 , y:0};\r\n\t\tthis._bias = null;\r\n\t\tthis._weaponDiv = null;\r\n\t\tthis._worldDiv = null;\r\n\t\tthis._worldObject = null;\r\n\r\n\t\tthis._sizeWorld = {\r\n\t\t\tfirstFindSize: true,\r\n\t\t\tsizeG: null\r\n\t\t};\r\n\r\n\t\tfunction generatePlace(state) {\r\n\t\t\tconst N = config.height;\r\n\t\t\tconst M = config.width;\r\n\r\n\t\t\tstate._place = [];\r\n\t\t\tfor (let i = 0; i < N; i++) {\r\n\t\t\t\tstate._place[i] = [];\r\n\t\t\t\tfor (let j = 0; j < M; j++) {\r\n\t\t\t\t\tif (i === 0\r\n\t\t\t\t\t||\r\n\t\t\t\t\t\ti + 1 === N\r\n\t\t\t\t\t||\r\n\t\t\t\t\t\tj === 0\r\n\t\t\t\t\t||\r\n\t\t\t\t\t\tj + 1 === M\r\n\t\t\t\t\t){\r\n\t\t\t\t\t\tstate._place[i][j] = ControllerBlock.getBlockObject(2);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstate._place[i][j] = ControllerBlock.getBlockObject(1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\taddRoom(state);\r\n\r\n\t\t\treturn state;\r\n\r\n\t\t\tfunction addRoom(state) {\r\n\t\t\t\tfor (let i = 0; i < N; i+= 8) {\r\n\t\t\t\t\tfor (let j = 0; j < M; j++) {\r\n\t\t\t\t\t\tconst randDigit = Math.floor(Math.random() * 400);\r\n\t\t\t\t\t\tif (randDigit > 9 && randDigit < 25) {\r\n\t\t\t\t\t\t\tfor (let k = j; k < j+randDigit && k < M; k++) {\r\n\t\t\t\t\t\t\t\tif (k === j) {\r\n\t\t\t\t\t\t\t\t\tfor (let n = i; n < i+randDigit+1 && n < N; n++) {\r\n\t\t\t\t\t\t\t\t\t\tstate._place[n][k] = ControllerBlock.getBlockObject(2);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tstate._place[i][k] = ControllerBlock.getBlockObject(2);\r\n\t\t\t\t\t\t\t\t\tstate._place[(i+randDigit >= N ? i : i+randDigit)][k] = ControllerBlock.getBlockObject(2);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tj+= 8;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetSizeWorld() {\r\n\t\treturn this._sizeWorld;\r\n\t}\r\n\r\n\tsetFirstFindSize(sizeWorld) {\r\n\t\tthis._sizeWorld = sizeWorld;\r\n\t}\r\n\r\n\tsetCoorPlayer(coor, num = 0) {\r\n\t\tthis._creature[num] = {};\r\n\t\tthis._creature[num].coor = coor;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tsetPlayer(id = 0 , val) {\r\n\t\tthis._creature[id] = new Player(id, this, val.watcher, val.coor, val.type);\r\n\t\tthis._place[val.coor.x][val.coor.y] = this._creature[id];\r\n\t\treturn true;\r\n\t}\r\n\r\n\tsetEnemy(id = 0 , val) {\r\n\t\tthis._creature[id] = new Enemy(id, this, val.coor, val.type);\r\n\t\tthis._place[val.coor.x][val.coor.y] = this._creature[id];\r\n\t\treturn true;\r\n\t}\r\n\r\n\tgetCreature(id = 0) {\r\n\t\tif (typeof +id !== 'number') {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\treturn this._creature[id];\r\n\t\t}\r\n\t}\r\n\r\n\tgetAllCreature() {\r\n\t\treturn this._creature;\r\n\t}\r\n\r\n\tgetAllPlace() {\r\n\t\treturn this._place;\r\n\t}\r\n\r\n\tgetCellPlace(coor) {\r\n\t\treturn this._place[coor.x][coor.y];\r\n\t}\r\n\r\n\tsetCellPlace(coor, val) {\r\n\t\tif (val.isCreature === true) {\r\n\t\t\tval.idBackBlock = this._place[coor.x][coor.y].idBlock;\r\n\t\t\tval.classNameBackBlock = this._place[coor.x][coor.y].classNameCSS;\r\n\t\t}\r\n\r\n\t\tthis._place[coor.x][coor.y] = val;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tchangeCoorPlayer(coor, id = 0) {\r\n\t\tthis._creature[id].coor.x = coor.x;\r\n\t\tthis._creature[id].coor.y = coor.y;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tsetBias(direction) {\r\n\t\tthis._bias = direction;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tgetBias(remove) {\r\n\t\tif (this._bias !== undefined) {\r\n\t\t\tlet OldValue = this._bias;\r\n\t\t\tif (remove === true) {\r\n\t\t\t\tthis._bias = null;\r\n\t\t\t}\r\n\t\t\treturn OldValue;\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tsetPointWatch(coor, watcher) {\r\n\t\tthis._pointWatch.x = coor.x;\r\n\t\tthis._pointWatch.y = coor.y;\r\n\t\tthis._pointWatch.watcher = watcher;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tchangePointWatch(bais) {\r\n\t\tswitch(bais) {\r\n\t\t\tcase 'right':\r\n\t\t\t\tthis._pointWatch.y++;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'left':\r\n\t\t\t\tthis._pointWatch.y--;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'up':\r\n\t\t\t\tthis._pointWatch.x--;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'down':\r\n\t\t\t\tthis._pointWatch.x++;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tgetPiointWatch() {\r\n\t\treturn this._pointWatch;\r\n\t}\r\n\r\n\tsetStartPointWatch(coor) {\r\n\t\tthis._startPointWatch.x = coor.x;\r\n\t\tthis._startPointWatch.y = coor.y;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tgetStartPiointWatch() {\r\n\t\treturn this._startPointWatch;\r\n\t}\r\n\r\n\tchangeStartPointWatch(bais) {\r\n\t\tswitch(bais) {\r\n\t\t\tcase 'right':\r\n\t\t\t\tthis._startPointWatch.y++;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'left':\r\n\t\t\t\tthis._startPointWatch.y--;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'up':\r\n\t\t\t\tthis._startPointWatch.x--;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'down':\r\n\t\t\t\tthis._startPointWatch.x++;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tsetWeaponDiv(weaponDiv) {\r\n\t\tthis._weaponDiv = weaponDiv;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tsetWorldDiv(worldDiv) {\r\n\t\tthis._worldDiv = worldDiv;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tgetWorldDiv() {\r\n\t\treturn this._worldDiv;\r\n\t}\r\n\r\n\tgetWeaponDiv() {\r\n\t\treturn this._weaponDiv;\r\n\t}\r\n\r\n\tsetWorldObject(obj) {\r\n\t\tthis._worldObject = obj;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tgetWorldObject() {\r\n\t\treturn this._worldObject;\r\n\t}\r\n\r\n\tgetWatcher() {\r\n\t\tif (this._pointWatch.watcher) {\r\n\t\t\treturn this._pointWatch.watcher;\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n}","'use strict';\r\n\r\nconst Creature = require('./creature');\r\n\r\nmodule.exports = class Enemy extends Creature {\r\n\tconstructor (id, state, coor) {\r\n\t\tsuper(id, state, coor);\r\n\t\tthis.type = 'enemy';\r\n\t\tthis.classNameCSS = 'slimeEnemy';\r\n\t\tthis.watcher = false;\r\n\t}\r\n}","'use strict';\r\n\r\nmodule.exports = class Coor {\r\n\tconstructor(x = 0, y = 0) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n}","'use strict';\r\n\r\nconst Creature = require('./creature');\r\n\r\nmodule.exports = class Player extends Creature {\r\n\tconstructor (id, state, watcher, coor, profession) {\r\n\t\tsuper(id, state, coor);\r\n\t\tthis.type = 'player';\r\n\r\n\t\tif (watcher === true){\r\n\t\t\tthis.watcher = true;\r\n\t\t\tstate.setPointWatch(coor, this);\r\n\t\t\tthis.visable = {\r\n\t\t\t\twas: true,\r\n\t\t\t\tnow: true\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tthis.watcher = false;\r\n\t\t}\r\n\r\n\t\tswitch(profession) {\r\n\t\t\tcase 'mage':\r\n\t\t\t\tthis.classNameCSS = 'magePlayer';\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}","'use strict';\r\n\r\nconst Block = require('./block.js');\r\n\r\nmodule.exports = class DirtBlock extends Block {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.type = 'dirt';\r\n\t\tthis.idBlock = 1;\r\n\t\tthis.patency = true;\r\n\t\tthis.classNameCSS = 'dirt';\r\n\t}\r\n}","'use strict';\r\n\r\nconst Block = require('./block.js');\r\n\r\nmodule.exports = class BorderBlock extends Block {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.type = 'border';\r\n\t\tthis.idBlock = 2;\r\n\t\tthis.patency = false;\r\n\t\tthis.classNameCSS = 'border';\r\n\t}\r\n}","'use strict';\r\n\r\nconst State = require('./state/state.js');\r\nconst World = require('./world.js');\r\nconst GLOBAL_SETTING_CLASS = require('../setting/globalSetting.js');\r\nconst GLOBAL_SETTING = new GLOBAL_SETTING_CLASS();\r\n\r\nmodule.exports = class ControllerGame {\r\n\tconstructor (players = null, enemy = []) {\r\n\t\tlet numCreature = 0;\r\n\r\n\t\tthis.state = new State(GLOBAL_SETTING.numBlocks);\r\n\t\tsetPlayers(players, this.state);\r\n\r\n\t\tconst startPoint = getStartPiointWatch(players, this.state);\r\n\r\n\t\tif (startPoint === false) {\r\n\t\t\tthrow \"2 or more main player or null\";\r\n\t\t} else {\r\n\t\t\tthis.state.setStartPointWatch(startPoint);\r\n\t\t}\r\n\r\n\t\tenemy = enemy.concat(World.makeAroayWihtEnemy(1000, this.state));\r\n\t\tsetEnemys(enemy, this.state);\r\n\r\n\t\tthis.world = new World(this.state);\r\n\t\tconst worldDiv = this.world.renderWorld(true);\r\n\t\tthis.weaponDiv = createWeaponDiv();\r\n\r\n\t\tthis.state.setWeaponDiv(this.weaponDiv);\r\n\t\tthis.state.setWorldDiv(worldDiv);\r\n\t\tthis.state.setWorldObject(this.world);\r\n\r\n\t\tfunction createWeaponDiv() {\r\n\t\t\tlet weapon = document.createElement('div');\r\n\t\t\tweapon.className = 'weapon';\r\n\t\t\tdocument.querySelector('body').appendChild(weapon);\r\n\t\t\treturn weapon;\r\n\t\t}\r\n\r\n\t\tfunction setPlayers(players, state) {\r\n\t\t\tif (players !== null) {\r\n\t\t\t\tplayers.forEach((val) => {\r\n\t\t\t\t\tstate.setPlayer(numCreature++, val);\r\n\t\t\t\t});\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction setEnemys(enemys, state) {\r\n\t\t\tif (enemys !== null) {\r\n\t\t\t\tenemys.forEach((val) => {\r\n\t\t\t\t\tstate.setEnemy(numCreature++, val);\r\n\t\t\t\t});\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction getStartPiointWatch(players, state) {\r\n\t\t\tlet watcher = players.filter(player => {\r\n\t\t\t\treturn player.watcher;\r\n\t\t\t});\r\n\r\n\t\t\tif (watcher.length !== 1) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\twatcher = watcher[0];\r\n\t\t\t}\r\n\r\n\t\t\tconst size = World.getSize(state);\r\n\r\n\t\t\tlet x = watcher.coor.x;\r\n\t\t\tlet y = watcher.coor.y;\r\n\t\t\tlet startPointWatch = {};\r\n\r\n\t\t\tstartPointWatch.x = findX(x, size);\r\n\t\t\tstartPointWatch.y = findY(y, size);\r\n\r\n\t\t\treturn startPointWatch;\r\n\r\n\t\t\tfunction findX (x, size) {\r\n\t\t\t\tlet newX = 0;\r\n\r\n\t\t\t\tif (x < Math.floor(size.heightBlocks / 2)) {\r\n\t\t\t\t\tnewX = 0;\r\n\t\t\t\t} else if (x >= (GLOBAL_SETTING.numBlocks.height - Math.floor(size.heightBlocks / 2))) {\r\n\t\t\t\t\tnewX = GLOBAL_SETTING.numBlocks.height - Math.floor(size.heightBlocks / 2);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewX = x - Math.floor(size.heightBlocks / 2) + 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn newX;\r\n\t\t\t}\r\n\r\n\t\t\tfunction findY (y, size) {\r\n\t\t\t\tlet newY = 0;\r\n\r\n\t\t\t\tif (y < Math.floor(size.widthBlocks / 2)) {\r\n\t\t\t\t\tnewY = 0;\r\n\t\t\t\t} else if (y >= (GLOBAL_SETTING.numBlocks.width - Math.floor(size.widthBlocks / 2))) {\r\n\t\t\t\t\tnewY = GLOBAL_SETTING.numBlocks.width - Math.floor(size.widthBlocks / 2);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewY = y - Math.floor(size.widthBlocks / 2) + 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn newY;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetState() {\r\n\t\treturn this.state;\r\n\t}\r\n\r\n\ttactOfGame() {\r\n\t\tthis.world.renderWorld();\r\n\t\tthis.state._creature.forEach((item) => {\r\n\t\t\tif (item.watcher !== true) {\r\n\t\t\t\titem.movePerformance('rand');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}","'use strict';\r\n\r\nmodule.exports = class Size {\r\n\tconstructor(width = 0, height = 0) {\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t}\r\n}","'use strict';\r\n/*\r\n\ttask:\r\n\t\t0.bias weapon after bais world\r\n\t\t1.reRender without bais and reRender All world\r\n*/\r\n\r\nconst GLOBAL_SETTING = new require('./setting/globalSetting.js');\r\nconst ControllerGame = require('./globalClass/game.js');\r\n\r\nconst game = new ControllerGame([{\r\n\tcoor: {\r\n\t\tx: 1,\r\n\t\ty: 1\r\n\t},\r\n\ttype: 'mage',\r\n\twatcher: true\r\n}]);\r\n\r\nconst state = game.getState();\r\nconst player = state.getCreature(0);\r\n\r\ndocument.onkeydown = function (e) {\r\n\tif (e.keyCode === 68) {\r\n\t\tplayer.movePerformance('right');\r\n\t} else if (e.keyCode === 83) {\r\n\t\tplayer.movePerformance('down');\r\n\t} else if (e.keyCode === 87) {\r\n\t\tplayer.movePerformance('up');\r\n\t} else if (e.keyCode === 65) {\r\n\t\tplayer.movePerformance('left');\r\n\t} else if (e.keyCode === 39) {\r\n\t\tplayer.doAttack('right');\r\n\t} else if (e.keyCode === 40) {\r\n\t\tplayer.doAttack('down');\r\n\t} else if (e.keyCode === 38) {\r\n\t\tplayer.doAttack('up');\r\n\t} else if (e.keyCode === 37) {\r\n\t\tplayer.doAttack('left');\r\n\t}\r\n\tgame.tactOfGame();\r\n}\r\n\r\nconsole.log(state);","'use strict';\r\nconst BorderBlock = require('./borderblock.js');\r\nconst DirtBlock = require('./dirtblock.js');\r\n\r\nmodule.exports = class BlockController {\r\n\tconstructor (){}\r\n\r\n\tstatic getBlockObject(id) {\r\n\t\tswitch(id) {\r\n\t\t\tcase 1:\r\n\t\t\t\treturn new DirtBlock();\r\n\t\t\tcase 2:\r\n\t\t\t\treturn new BorderBlock();\r\n\t\t}\r\n\t}\r\n}","'use strict';\r\n\r\nconst Coor = require('./coordinate.js');\r\n\r\nmodule.exports = class ExCoor extends Coor {\r\n\tconstructor (x = 0, y = 0, newX = 0, newY = 0) {\r\n\t\tsuper(x, y);\r\n\t\tthis.newX = newX;\r\n\t\tthis.newY = newY;\r\n\t}\r\n}"],"sourceRoot":""}